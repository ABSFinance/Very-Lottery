{
  "compiler": {
    "version": "0.8.22+commit.4fc1097e"
  },
  "language": "Solidity",
  "output": {
    "abi": [
      {
        "inputs": [],
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "owner",
            "type": "address"
          }
        ],
        "type": "error",
        "name": "OwnableInvalidOwner"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "account",
            "type": "address"
          }
        ],
        "type": "error",
        "name": "OwnableUnauthorizedAccount"
      },
      {
        "inputs": [],
        "type": "error",
        "name": "ReentrancyGuardReentrantCall"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "address",
            "name": "user",
            "type": "address",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "FundsDeposited",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "address",
            "name": "user",
            "type": "address",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "FundsWithdrawn",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "previousOwner",
            "type": "address",
            "indexed": true
          },
          {
            "internalType": "address",
            "name": "newOwner",
            "type": "address",
            "indexed": true
          }
        ],
        "type": "event",
        "name": "OwnershipTransferred",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "oldRatio",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "newRatio",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "ReserveRatioUpdated",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "oldReserve",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "newReserve",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "ReserveUpdated",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "currentBalance",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "threshold",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "TreasuryBalanceHigh",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "currentBalance",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "threshold",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "TreasuryBalanceLow",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "initialBalance",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "TreasuryCreated",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "by",
            "type": "address",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "string",
            "name": "reason",
            "type": "string",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "TreasuryEmergencyWithdraw",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "bool",
            "name": "enabled",
            "type": "bool",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "TreasuryToggled",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "oldBalance",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "newBalance",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "TreasuryUpdated",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "user",
            "type": "address",
            "indexed": true
          },
          {
            "internalType": "uint256",
            "name": "requestedAmount",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "maxAllowed",
            "type": "uint256",
            "indexed": false
          },
          {
            "internalType": "uint256",
            "name": "timestamp",
            "type": "uint256",
            "indexed": false
          }
        ],
        "type": "event",
        "name": "WithdrawalLimitExceeded",
        "anonymous": false
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "contractAddress",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "addAuthorizedContract"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "authorizedContracts",
        "outputs": [
          {
            "internalType": "bool",
            "name": "",
            "type": "bool"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "checkTreasuryBalance"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "initialBalance",
            "type": "uint256"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "createTreasury"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "user",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          }
        ],
        "stateMutability": "payable",
        "type": "function",
        "name": "depositFunds"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "reason",
            "type": "string"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "emergencyWithdraw"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "getTreasuryInfo",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "totalBalance",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "reservedBalance",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "availableBalance",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "lastUpdate",
            "type": "uint256"
          },
          {
            "internalType": "bool",
            "name": "isActive",
            "type": "bool"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "user",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "getUserBalance",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "user",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "getUserTreasuryBalance",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ]
      },
      {
        "inputs": [],
        "stateMutability": "view",
        "type": "function",
        "name": "maxWithdrawalAmount",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ]
      },
      {
        "inputs": [],
        "stateMutability": "view",
        "type": "function",
        "name": "minReserveRatio",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ]
      },
      {
        "inputs": [],
        "stateMutability": "view",
        "type": "function",
        "name": "owner",
        "outputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "contractAddress",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "removeAuthorizedContract"
      },
      {
        "inputs": [],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "renounceOwnership"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "reserveAmount",
            "type": "uint256"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "setReserve"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "toggleTreasury"
      },
      {
        "inputs": [],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "toggleTreasurySystem"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "newOwner",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "transferOwnership"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "treasuries",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "totalBalance",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "reservedBalance",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "availableBalance",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "lastUpdate",
            "type": "uint256"
          },
          {
            "internalType": "bool",
            "name": "isActive",
            "type": "bool"
          }
        ]
      },
      {
        "inputs": [],
        "stateMutability": "view",
        "type": "function",
        "name": "treasuryEnabled",
        "outputs": [
          {
            "internalType": "bool",
            "name": "",
            "type": "bool"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "newAmount",
            "type": "uint256"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "updateMaxWithdrawalAmount"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "newRatio",
            "type": "uint256"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "updateMinReserveRatio"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "userBalances",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function",
        "name": "userTreasuryBalances",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ]
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "treasuryName",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "user",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "function",
        "name": "withdrawFunds"
      }
    ],
    "devdoc": {
      "kind": "dev",
      "methods": {
        "addAuthorizedContract(address)": {
          "details": "Authorized contract 추가"
        },
        "checkTreasuryBalance(string)": {
          "details": "잔액 모니터링"
        },
        "constructor": {
          "custom:oz-upgrades-unsafe-allow": "constructor"
        },
        "createTreasury(string,uint256)": {
          "details": "Treasury 생성"
        },
        "depositFunds(string,address,uint256)": {
          "details": "자금 예치"
        },
        "emergencyWithdraw(string,uint256,string)": {
          "details": "긴급 인출 (관리자만)"
        },
        "getTreasuryInfo(string)": {
          "details": "Treasury 정보 조회"
        },
        "getUserBalance(address)": {
          "details": "사용자 잔액 조회"
        },
        "getUserTreasuryBalance(string,address)": {
          "details": "사용자 Treasury 잔액 조회"
        },
        "owner()": {
          "details": "Returns the address of the current owner."
        },
        "removeAuthorizedContract(address)": {
          "details": "Authorized contract 제거"
        },
        "renounceOwnership()": {
          "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
        },
        "setReserve(string,uint256)": {
          "details": "예약 자금 설정"
        },
        "toggleTreasury(string)": {
          "details": "Treasury 활성화/비활성화"
        },
        "toggleTreasurySystem()": {
          "details": "Treasury 시스템 활성화/비활성화"
        },
        "transferOwnership(address)": {
          "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
        },
        "updateMaxWithdrawalAmount(uint256)": {
          "details": "최대 인출 금액 업데이트"
        },
        "updateMinReserveRatio(uint256)": {
          "details": "최소 예약 비율 업데이트"
        },
        "withdrawFunds(string,address,uint256)": {
          "details": "자금 인출"
        }
      },
      "version": 1
    },
    "userdoc": {
      "kind": "user",
      "methods": {},
      "version": 1
    }
  },
  "settings": {
    "remappings": [
      "@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
      "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
      "erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/",
      "forge-std/=lib/forge-std/src/",
      "halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/",
      "openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/",
      "openzeppelin-contracts/=lib/openzeppelin-contracts/"
    ],
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "metadata": {
      "bytecodeHash": "ipfs"
    },
    "compilationTarget": {
      "contracts/modules/treasury/TreasuryManager.sol": "TreasuryManager"
    },
    "evmVersion": "shanghai",
    "libraries": {}
  },
  "sources": {
    "contracts/modules/treasury/TreasuryManager.sol": {
      "keccak256": "0x80e4c4df1f2f3b31c79e6d7bb5e8d18a7f62d101bd36cd2738c93382f2500a3b",
      "urls": [
        "bzz-raw://78d317e75c5cb93d04371d585066ffb7d255287285844ff5c41979f4104653f3",
        "dweb:/ipfs/QmXadYZX6GqZwns5A3CraiL2SXR4msHQ3MpYazecQo5zR8"
      ],
      "license": "MIT"
    },
    "lib/openzeppelin-contracts/contracts/access/Ownable.sol": {
      "keccak256": "0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb",
      "urls": [
        "bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6",
        "dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"
      ],
      "license": "MIT"
    },
    "lib/openzeppelin-contracts/contracts/utils/Context.sol": {
      "keccak256": "0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2",
      "urls": [
        "bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12",
        "dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"
      ],
      "license": "MIT"
    },
    "lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol": {
      "keccak256": "0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3",
      "urls": [
        "bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a",
        "dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"
      ],
      "license": "MIT"
    }
  },
  "version": 1
}